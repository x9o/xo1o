import{r as i,M as H,j as o,i as V,u as L,P as W,d as D,e as F,f as G,m as K,a as v}from"./index-Bnh3LyT-.js";function k(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function U(...e){return s=>{let t=!1;const r=e.map(l=>{const n=k(l,s);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let l=0;l<r.length;l++){const n=r[l];typeof n=="function"?n():k(e[l],null)}}}}function B(...e){return i.useCallback(U(...e),e)}class O extends i.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const r=t.offsetParent,l=V(r)&&r.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=l-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X({children:e,isPresent:s,anchorX:t,root:r}){const l=i.useId(),n=i.useRef(null),c=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=i.useContext(H),j=B(n,e==null?void 0:e.ref);return i.useInsertionEffect(()=>{const{width:u,height:C,top:a,left:p,right:h}=c.current;if(s||!n.current||!u||!C)return;const y=t==="left"?`left: ${p}`:`right: ${h}`;n.current.dataset.motionPopId=l;const d=document.createElement("style");x&&(d.nonce=x);const E=r??document.head;return E.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${C}px !important;
            ${y}px !important;
            top: ${a}px !important;
          }
        `),()=>{E.contains(d)&&E.removeChild(d)}},[s]),o.jsx(O,{isPresent:s,childRef:n,sizeRef:c,children:i.cloneElement(e,{ref:j})})}const _=({children:e,initial:s,isPresent:t,onExitComplete:r,custom:l,presenceAffectsLayout:n,mode:c,anchorX:x,root:j})=>{const u=L(q),C=i.useId();let a=!0,p=i.useMemo(()=>(a=!1,{id:C,initial:s,isPresent:t,custom:l,onExitComplete:h=>{u.set(h,!0);for(const y of u.values())if(!y)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[t,u,r]);return n&&a&&(p={...p}),i.useMemo(()=>{u.forEach((h,y)=>u.set(y,!1))},[t]),i.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),c==="popLayout"&&(e=o.jsx(X,{isPresent:t,anchorX:x,root:j,children:e})),o.jsx(W.Provider,{value:p,children:e})};function q(){return new Map}const M=e=>e.key||"";function z(e){const s=[];return i.Children.forEach(e,t=>{i.isValidElement(t)&&s.push(t)}),s}const J=({children:e,custom:s,initial:t=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:n="sync",propagate:c=!1,anchorX:x="left",root:j})=>{const[u,C]=D(c),a=i.useMemo(()=>z(e),[e]),p=c&&!u?[]:a.map(M),h=i.useRef(!0),y=i.useRef(a),d=L(()=>new Map),[E,S]=i.useState(a),[g,$]=i.useState(a);F(()=>{h.current=!1,y.current=a;for(let m=0;m<g.length;m++){const f=M(g[m]);p.includes(f)?d.delete(f):d.get(f)!==!0&&d.set(f,!1)}},[g,p.length,p.join("-")]);const P=[];if(a!==E){let m=[...a];for(let f=0;f<g.length;f++){const R=g[f],I=M(R);p.includes(I)||(m.splice(f,0,R),P.push(R))}return n==="wait"&&P.length&&(m=P),$(z(m)),S(a),null}const{forceRender:b}=i.useContext(G);return o.jsx(o.Fragment,{children:g.map(m=>{const f=M(m),R=c&&!u?!1:a===g||p.includes(f),I=()=>{if(d.has(f))d.set(f,!0);else return;let N=!0;d.forEach(A=>{A||(N=!1)}),N&&(b==null||b(),$(y.current),c&&(C==null||C()),r&&r())};return o.jsx(_,{isPresent:R,initial:!h.current||t?void 0:!1,custom:s,presenceAffectsLayout:l,mode:n,root:j,onExitComplete:R?void 0:I,anchorX:x,children:m},f)})})};function w({text:e,duration:s=.5,delayMultiple:t=.04,framerProps:r={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},className:l}){return o.jsx("div",{className:"flex justify-center space-x-1",children:o.jsx(J,{children:e.split("").map((n,c)=>o.jsx(K.h1,{initial:"hidden",animate:"visible",exit:"hidden",variants:r,transition:{duration:s,delay:c*t},className:v("drop-shadow-sm ",l),children:n===" "?o.jsx("span",{children:"Â "}):n},c))})})}const Y=({text:e,className:s,gradientText:t})=>{const[r,l]=i.useState(!1),n=i.useRef(null);i.useEffect(()=>{const x=new IntersectionObserver(([j])=>{j.isIntersecting&&l(!0)},{threshold:.1});return n.current&&x.observe(n.current),()=>{n.current&&x.unobserve(n.current)}},[]);const c=t?e.split(t):[e];return o.jsx("div",{ref:n,className:"overflow-hidden",children:r?t?o.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[c[0]&&o.jsx(w,{text:c[0].trim(),className:v(s),duration:.5,delayMultiple:.04}),o.jsx(w,{text:t,className:v(s,"gradient-text"),duration:.5,delayMultiple:.04}),c[1]&&o.jsx(w,{text:c[1].trim(),className:v(s),duration:.5,delayMultiple:.04})]}):o.jsx(w,{text:e,className:v(s),duration:.5,delayMultiple:.04}):o.jsx("h2",{className:v(s,"opacity-0"),children:t?o.jsxs(o.Fragment,{children:[c[0],o.jsx("span",{className:"gradient-text",children:t}),c[1]]}):e})})};export{Y as A,J as a};
